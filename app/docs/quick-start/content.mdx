import { CopyMarkdownButton } from "../_components/copy-markdown-button";

<div className="flex justify-between items-start">
  # Quick Start
  <CopyMarkdownButton />
  </div>

Get a chat rendering a Tool UI component in a couple minutes. We’ll return a simple link preview using MediaCard from a tool and render it inline.

## Prerequisites

```sh
npm install ai @ai-sdk/openai zod
```

Supply a model key. In this example we're using the Vercel AI SDK's OpenAI adapter.

```env
OPENAI_API_KEY=sk-...
```

<Steps>

<Step>

### API route with one tool

```ts title="app/api/chat/route.ts"
import { streamText, convertToModelMessages, tool, type UIMessage } from 'ai';
import { openai } from '@ai-sdk/openai';
import { z } from 'zod';
import { serializableMediaCardSchema } from '@/components/media-card/schema';

export const maxDuration = 30;

export async function POST(req: Request) {
  const { messages }: { messages: UIMessage[] } = await req.json();

  const result = streamText({
    model: openai('gpt-4o'),
    messages: convertToModelMessages(messages),
    tools: {
      previewLink: tool({
        description: 'Return a simple link preview',
        inputSchema: z.object({ url: z.string().url() }),
        outputSchema: serializableMediaCardSchema,
        async execute({ url }) {
          return {
            id: 'link-1',
            kind: 'link',
            href: url,
            title: 'React — Server Components',
            thumb: 'https://images.unsplash.com/photo-1633356122544-f134324a6cee?auto=format&fit=crop&q=80&w=1200',
          };
        },
      }),
    },
  });

  return result.toUIMessageStreamResponse();
}
```

</Step>

<Step>

### Minimal client

```tsx title="app/page.tsx"
'use client';

import { useChat } from '@ai-sdk/react';
import { DefaultChatTransport } from 'ai';
import { MediaCard } from '@/components/media-card';
import { useState } from 'react';

export default function Chat() {
  const { messages, sendMessage } = useChat({
    transport: new DefaultChatTransport({ api: '/api/chat' }),
  });
  const [input, setInput] = useState('Preview https://react.dev');

  return (
    <form
      onSubmit={(e) => {
        e.preventDefault();
        if (input.trim()) {
          sendMessage({ text: input });
          setInput('');
        }
      }}
    >
      <div>
        {messages.map((m) => (
          <div key={m.id}>
            {m.parts.map((part, i) => {
              if (part.type === 'tool-previewLink' && part.state === 'output-available') {
                return <MediaCard key={i} {...part.output} maxWidth="420px" />;
              }
              if (part.type === 'text') return <span key={i}>{part.text}</span>;
              return null;
            })}
          </div>
        ))}
      </div>

      <div className="mt-4 flex gap-2">
        <input
          value={input}
          onChange={(e) => setInput(e.target.value)}
          placeholder="Try: Preview https://react.dev"
          className="min-w-0 flex-1 rounded border px-3 py-2"
        />
        <button type="submit" className="rounded bg-primary px-3 py-2 text-primary-foreground">Send</button>
      </div>
    </form>
  );
}
```

</Step>

</Steps>