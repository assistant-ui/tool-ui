import { DocsHeader } from "../_components/docs-header";
import { DecisionPrompt } from "@/components/decision-prompt";

<DocsHeader title="Decision Prompt" role="Decision" />

A decision surface for binary and multi-option confirmations inside the chat stream.

<Tabs items={["Preview", "Code"]}>
  <Tab>
    <div className="not-prose">
      <DecisionPrompt
        prompt="Send this email?"
        description="The assistant drafted this based on your last message."
        actions={[
          { id: "send", label: "Send", variant: "default" },
          { id: "edit", label: "Edit first", variant: "secondary" },
          { id: "delete", label: "Delete", variant: "destructive", confirmLabel: "Confirm delete" }
        ]}
        align="center"
      />
    </div>
  </Tab>
  <Tab>
    ```tsx
    import { DecisionPrompt } from "@/components/decision-prompt";

    export function Example() {
      return (
        <DecisionPrompt
          prompt="Send this email?"
          description="The assistant drafted this based on your last message."
          actions={[
            { id: "send", label: "Send", variant: "default" },
            { id: "edit", label: "Edit first", variant: "secondary" },
            { id: "discard", label: "Discard", variant: "destructive" },
          ]}
        />
      );
    }
    ```
  </Tab>
</Tabs>



## When to Use Decision Prompt

- **Good for:** Send/discard decisions, approval flows, choosing between clear options
- **Not for:** Complex forms, low-risk toggles

## Key Features

- **Human-in-the-loop**: Explicit user confirmation before actions
- **Multi-option support**: Binary or multiple choice prompts
- **Destructive safeguards**: Extra confirmation for dangerous actions
- **Loading states**: Show progress during async operations
- **Receipt pattern**: Collapse to summary after decision


## Source and Install

Copy `components/decision-prompt` into your project. It should sit alongside your shadcn/ui components directory:

<Files>
  <Folder name="components" defaultOpen>
    <Folder name="ui">
      <File name="button.tsx" />
      <File name="alert.tsx" />
      <File name="..." />
    </Folder>
    <Folder name="decision-prompt" defaultOpen>
      <File name="decision-prompt.tsx" />
      <File name="schema.ts" />
      <File name="types.ts" />
      <File name="index.tsx" />
      <File name="error-boundary.tsx" />
      <File name="..." />
    </Folder>
  </Folder>
</Files>

### Download

- [**Source on GitHub**](https://github.com/assistant-ui/tool-ui/tree/main/components/decision-prompt)
- [**Quick download (ZIP)**](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/decision-prompt)



## Usage

```tsx

import { tool } from 'ai';
import { serializableDecisionPromptSchema } from '@tool-ui/decision-prompt';

const confirmEmailSend = tool({
  description: 'Ask the user whether to send an email',
  outputSchema: serializableDecisionPromptSchema,
  async execute({ draftId }) {
    return {
      id: `confirm-email-${draftId}`,
      title: 'Send this email?',
      description: 'The assistant drafted this email based on your last message.',
      actions: [
        { id: 'send', label: 'Send', tone: 'primary' },
        { id: 'edit', label: 'Edit first', tone: 'neutral' },
        { id: 'discard', label: 'Discard', tone: 'destructive' },
      ],
    };
  },
});

// Frontend with assistant-ui
import { makeAssistantToolUI } from '@assistant-ui/react';
import { DecisionPrompt } from '@tool-ui/decision-prompt';

export const ConfirmEmailUI = makeAssistantToolUI({
  toolName: 'confirmEmailSend',
  render: ({ result }) => (
    <DecisionPrompt
      {...result}
      onAction={async (id) => {
        if (id === 'send') await sendDraft(result.id);
        if (id === 'edit') openDraftEditor(result.id);
        // Handle other actions
      }}
    />
  ),
});
```



## Props

<TypeTable
  type={{
    id: { description: "Unique identifier", type: "string", required: true },
    title: { description: "Main question", type: "string", required: true },
    description: { description: "Supporting context", type: "string" },
    tone: { description: "Visual tone", type: "'neutral' | 'warning' | 'danger'", default: "'neutral'" },
    actions: {
      description: "User options",
      type: "Array<{ id, label, tone?, shortcut? }>",
      required: true,
    },
    defaultActionId: { description: "Primary action", type: "string" },
    onBeforeAction: { description: "Gate actions", type: "({ id }) => boolean | Promise" },
    onAction: { description: "Handle choice", type: "(id) => void | Promise" },
  }}
/>

Follows standard lifecycle: Pending → Confirming → Executing → Receipt.
