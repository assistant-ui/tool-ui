import { CopyMarkdownButton } from "../_components/copy-markdown-button";

<div className="flex justify-between items-start">
  # UI Guidelines
  <CopyMarkdownButton />
</div>

Design principles and interaction patterns for building consistent, accessible tool UIs in chat interfaces.

## Core Principles

### Single intent

Each component has one clear purpose. Data Table shows structured data, Media Card previews content, Decision Prompt captures choices.

### Glanceable

Users parse the UI in ~3 seconds. Copy stays tight, scannable, and contextual—don't repeat what the assistant already said.

### Minimal chrome

The conversation is the primary surface. Components use subtle borders, balanced spacing, and stay out of the way.

### Accessible by default

AA contrast, keyboard navigation, screen reader labels, and reduced-motion support are non-negotiable.

### Clear affordances

Primary actions are obvious, feedback is immediate (≤100ms press, ≤150ms spinner), and completed actions show receipts.


## Interaction Patterns

### Actions

#### Server-first by default

Components fire typed actions to your server via `onAction` callbacks. Client handlers are optional for optimistic updates or native integrations. Tool UI doesn't include an action bus—you wire the routing.

#### Loading states

- `auto` (default): Sensible scope based on action type
- `self`: Only the control shows busy/disabled
- `container`: Veil the entire card and make it inert
- `none`: Custom loading visuals in your app

#### Optimistic updates

Update immediately, reconcile on server acknowledgment. On failure, roll back with a short inline error message.

#### Destructive actions

Two-stage confirmation with explicit labels ("Delete 12 files") and timeout to reset.

### Forms & Input

#### Inline widgets only

Simple fields with basic native validation. For complex validation, handle it in your app surface and return a summary card to the chat.

### Motion & Feedback

#### Response timing

- Press feedback: ≤100ms
- Spinner: ≤150ms
- Skeleton: ≥300ms (don't flash skeletons for fast responses)

#### Transitions

- Keep under 200–250ms
- Respect `prefers-reduced-motion`
- Use subtle morph/fade on refresh
- Avoid layout jumps



## Visual Design

### Typography
Use shadcn system stacks with minimal size variations (title, body, caption). Avoid custom font scales.

### Contrast
WCAG AA minimums always. Test foreground/background combinations, especially for muted or secondary text.

### Spacing & Density
Components respect chat width constraints and adapt to narrow viewports. Use consistent spacing tokens from your design system.

### Copy
Keep it short, specific, and context-aware. Users already have conversation context—don't repeat it in the UI.



## Accessibility Standards

### WCAG Compliance
All components meet WCAG AA standards:
- Contrast ratios: 4.5:1 for text, 3:1 for UI elements
- Touch targets: 44×44px minimum
- Focus indicators: Visible and high-contrast

### Keyboard Navigation
- All interactive elements reachable via Tab
- Enter/Space activate buttons and controls
- Arrow keys navigate within components (table rows, card galleries)
- Escape dismisses dialogs and menus

### Screen Readers
- Semantic HTML: Use `<th scope="col">` for table headers, proper heading hierarchy
- ARIA labels for icons and controls without visible text
- Live regions for dynamic content updates
- Status announcements for loading/error states

### Reduced Motion
Respect `prefers-reduced-motion` by disabling transitions and animations.
