import { DocsHeader } from "../_components/docs-header";
import { ParameterSlider } from "@/components/tool-ui/parameter-slider";

<DocsHeader
  title="Parameter Slider"
  description="Numeric parameter adjustment controls."
  mdxPath="app/docs/parameter-slider/content.mdx"
/>

<Tabs items={["Preview", "Code"]}>
  <Tab>
    <div className="not-prose mx-auto max-w-sm">
      <ParameterSlider
        id="parameter-slider-example"
        sliders={[
          { id: "exposure", label: "Exposure", min: -3, max: 3, step: 0.1, value: 0.3, unit: "EV", precision: 1 },
          { id: "contrast", label: "Contrast", min: -100, max: 100, step: 5, value: 15, unit: "%" },
          { id: "highlights", label: "Highlights", min: -100, max: 100, step: 5, value: -20, unit: "%" },
        ]}
      />
    </div>
  </Tab>
  <Tab>
    ```tsx
    import { ParameterSlider } from "@/components/tool-ui/parameter-slider";

    export function Example() {
      return (
        <ParameterSlider
          id="parameter-slider-example"
          sliders={[
            { id: "exposure", label: "Exposure", min: -3, max: 3, step: 0.1, value: 0.3, unit: "EV", precision: 1 },
            { id: "contrast", label: "Contrast", min: -100, max: 100, step: 5, value: 15, unit: "%" },
            { id: "highlights", label: "Highlights", min: -100, max: 100, step: 5, value: -20, unit: "%" },
          ]}
          onResponseAction={(actionId, values) => {
            console.log(actionId, values);
          }}
        />
      );
    }
    ```
  </Tab>
</Tabs>

## Key Features

<FeatureGrid>
  <Feature icon="ListChecks" title="Multiple parameters">
    Group related sliders with shared Reset/Apply actions
  </Feature>
  <Feature icon="SlidersHorizontal" title="Inline labels and values">
    Label and current value displayed directly on the track
  </Feature>
  <Feature icon="Settings2" title="Custom units">
    Display domain-specific units like EV, dB, %, or Mbps
  </Feature>
  <Feature icon="Accessibility" title="Built-in accessibility">
    Keyboard navigation and screen reader support
  </Feature>
</FeatureGrid>

## When to Use

- **Good for:** Photo editing controls, audio EQ, video export settings, typography adjustments
- **Not for:** Single binary choices (use [Approval Card](/docs/approval-card)), list selections (use [Option List](/docs/option-list))

## Source and Install

Copy [`components/tool-ui/parameter-slider`](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/parameter-slider) and the [`shared`](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/shared) directory into your project. The `shared` folder contains utilities used by all Tool UI components. The `tool-ui` directory should sit alongside your shadcn `ui` directory.

### Prerequisites

This component requires the following [shadcn/ui](https://ui.shadcn.com) components:

```bash
pnpm dlx shadcn@latest add button separator slider
```

### Directory Structure

<Files>
  <Folder name="components" defaultOpen>
    <Folder name="ui">
      <File name="button.tsx" />
      <File name="separator.tsx" />
      <File name="slider.tsx" />
    </Folder>
    <Folder name="tool-ui" defaultOpen>
      <Folder name="shared" defaultOpen>
        <File name="action-buttons.tsx" />
        <File name="schema.ts" />
        <File name="index.ts" />
      </Folder>
      <Folder name="parameter-slider" defaultOpen>
        <File name="parameter-slider.tsx" />
        <File name="schema.ts" />
        <File name="index.tsx" />
        <File name="error-boundary.tsx" />
        <File name="_adapter.tsx" />
      </Folder>
    </Folder>
  </Folder>
</Files>

### Download

- [**Shared Dependencies (GitHub)**](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/shared) ([ZIP](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/shared))
- [**Parameter Slider (GitHub)**](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/parameter-slider) ([ZIP](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/parameter-slider))

## Usage

```tsx
"use client";

import { makeAssistantTool } from "@assistant-ui/react";
import {
  ParameterSlider,
  ParameterSliderErrorBoundary,
  parseSerializableParameterSlider,
  SerializableParameterSliderSchema,
  type SerializableParameterSlider,
} from "@/components/tool-ui/parameter-slider";

export const ParameterSliderTool = makeAssistantTool<SerializableParameterSlider>({
  toolName: "adjust_parameters",
  description: "Adjust numeric parameters with sliders",
  parameters: SerializableParameterSliderSchema,
  render: ({ args, result, addResult, toolCallId }) => {
    if (!args?.sliders?.length) return null;

    const data = parseSerializableParameterSlider({
      ...args,
      id: (args as any)?.id ?? `parameter-slider-${toolCallId}`,
    });

    return (
      <ParameterSliderErrorBoundary>
        <ParameterSlider
          {...data}
          onResponseAction={(actionId, values) => {
            if (actionId === "apply") {
              addResult({ values });
            }
          }}
        />
      </ParameterSliderErrorBoundary>
    );
  },
});
```

## Props

### ParameterSlider

<TypeTable
  type={{
    id: {
      description: "Unique identifier for this tool UI instance",
      type: "string",
      required: true,
    },
    sliders: {
      description: "Array of slider configurations",
      type: "SliderConfig[]",
      required: true,
    },
    values: {
      description: "Controlled values array (for controlled mode)",
      type: "SliderValue[]",
    },
    onChange: {
      description: "Called when any slider value changes",
      type: "(values: SliderValue[]) => void",
    },
    responseActions: {
      description: "Action buttons (defaults to Reset/Apply)",
      type: "Action[]",
    },
    onResponseAction: {
      description: "Called when an action button is clicked",
      type: "(actionId: string, values: SliderValue[]) => void",
    },
    onBeforeResponseAction: {
      description: "Called before action, return false to cancel",
      type: "(actionId: string) => boolean | Promise<boolean>",
    },
    isLoading: {
      description: "Shows loading state on Apply button",
      type: "boolean",
    },
    className: {
      description: "Additional CSS classes",
      type: "string",
    },
  }}
/>

### SliderConfig

<TypeTable
  type={{
    id: {
      description: "Unique identifier for this slider",
      type: "string",
      required: true,
    },
    label: {
      description: "Display label for the slider",
      type: "string",
      required: true,
    },
    min: {
      description: "Minimum value",
      type: "number",
      required: true,
    },
    max: {
      description: "Maximum value",
      type: "number",
      required: true,
    },
    value: {
      description: "Initial value",
      type: "number",
      required: true,
    },
    step: {
      description: "Step increment (default: 1)",
      type: "number",
    },
    unit: {
      description: "Unit suffix shown after value (e.g., 'EV', '%', 'dB')",
      type: "string",
    },
    precision: {
      description: "Decimal places to display (default: auto)",
      type: "number",
    },
  }}
/>

### SliderValue

<TypeTable
  type={{
    id: {
      description: "Slider identifier",
      type: "string",
      required: true,
    },
    value: {
      description: "Current slider value",
      type: "number",
      required: true,
    },
  }}
/>

## Accessibility

- Full keyboard support: Tab to focus, Arrow keys to adjust values
- `aria-valuetext` includes unit for screen readers (e.g., "plus 0.3 EV")
- Tick marks provide visual reference for the range
- Disabled state properly communicated with `aria-busy` and reduced opacity
