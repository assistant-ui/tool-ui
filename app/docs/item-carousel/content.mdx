import { DocsHeader } from "../_components/docs-header";

<DocsHeader
  title="Item Carousel"
  mdxPath="app/docs/item-carousel/content.mdx"
/>

A horizontal carousel for browsing collections of items. Optimized for surfacing recommendations and enabling comparison in chat interfaces.

<ItemCarouselPresetExample preset="recommendations" />

## Key Features

<FeatureGrid>
  <Feature icon="Layers" title="Collection browsing">
    Display multiple items side-by-side for easy comparison with equal-height
    cards via CSS Grid
  </Feature>
  <Feature icon="GalleryHorizontalEnd" title="Smart scrolling">
    Custom scroll animation with cubic-bezier easing, snap points, and reduced
    motion support
  </Feature>
  <Feature icon="MousePointerClick" title="Per-card actions">
    Buttons adapt via container queries: stacked on narrow cards, side-by-side
    when wider
  </Feature>
  <Feature icon="Keyboard" title="Full accessibility">
    Keyboard navigation (Enter/Space), focus rings, ARIA roles, and screen
    reader labels
  </Feature>
</FeatureGrid>

## When to Use

- **Good for:** Product comparisons, recommendations, featured collections, browsable galleries
- **Not for:** Long catalogs (use DataTable), single item details (use MediaCard)

## Design Details

The Item Carousel is built with careful attention to interaction design:

**Responsive button layout:** Each card is its own container (`@container/card`). When the card is narrow, buttons stack vertically with the primary action on top. Above 176px, they flow horizontally with primary on the right. This uses `flex-col-reverse` to maintain consistent DOM order while adapting visual hierarchy.

**Equal card heights:** Cards use CSS Grid (`grid-flow-col` with `auto-cols-max`) rather than flexbox. Grid cells in the same row automatically match heights, so a card with a two-line title aligns perfectly with one-line neighbors.

**Smooth scroll animation:** The carousel implements custom JavaScript scrolling with a cubic-bezier ease-out curve. It respects `prefers-reduced-motion` and falls back to instant scrolling. Navigation calculates snap positions dynamically based on actual card offsets.

**Image handling:** Supports both image URLs and hex color fallbacks. Images use `loading="lazy"` and `decoding="async"` for performance. On hover, images scale up 5% with a 300ms transition.

**Click delegation:** Cards can be interactive (`onItemClick`) while containing action buttons. Click handlers check if the event originated from a button and delegate appropriately, preventing double-firing.

**Touch optimization:** Cards use `touch-manipulation` to eliminate the 300ms tap delay on iOS. Navigation buttons appear only on hover/focus (desktop) and use backdrop blur for visual polish.

## Source and Install

Copy `components/tool-ui/item-carousel` and the `shared` directory into your project. The `shared` folder contains utilities used by all Tool UI components.

### Prerequisites

This component requires the following [shadcn/ui](https://ui.shadcn.com) components:

```bash
pnpm dlx shadcn@latest add button card
```

### Directory Structure

<Files>
  <Folder name="components" defaultOpen>
    <Folder name="ui">
      <File name="button.tsx" />
      <File name="card.tsx" />
      <File name="..." />
    </Folder>
    <Folder name="tool-ui" defaultOpen>
      <Folder name="shared" defaultOpen>
        <File name="schema.ts" />
        <File name="index.ts" />
        <File name="..." />
      </Folder>
      <Folder name="item-carousel" defaultOpen>
        <File name="item-carousel.tsx" />
        <File name="item-card.tsx" />
        <File name="schema.ts" />
        <File name="index.tsx" />
        <File name="..." />
      </Folder>
    </Folder>
  </Folder>
</Files>

### Download

- [**Shared Dependencies (GitHub)**](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/shared) ([ZIP](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/shared))
- [**Item Carousel (GitHub)**](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/item-carousel) ([ZIP](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/item-carousel))

## Usage

```tsx
// Backend tool
import { tool } from "ai";
import { z } from "zod";
import { SerializableItemCarouselSchema } from "@/components/tool-ui/item-carousel";

const searchItems = tool({
  description: "Search for items matching criteria",
  inputSchema: z.object({
    query: z.string(),
    maxPrice: z.number().optional(),
  }),
  outputSchema: SerializableItemCarouselSchema,
  async execute({ query, maxPrice }) {
    const items = await fetchItems(query, maxPrice);
    return {
      id: `item-search-${query}`,
      items: items.map((item) => ({
        id: item.id,
        name: item.name,
        subtitle: `$${item.price.toFixed(2)}`,
        image: item.imageUrl,
        actions: [
          { id: "view", label: "View Details" },
          { id: "select", label: "Select", variant: "default" },
        ],
      })),
    };
  },
});

// Frontend with assistant-ui
import { makeAssistantToolUI } from "@assistant-ui/react";
import { ItemCarousel } from "@/components/tool-ui/item-carousel";

export const SearchItemsUI = makeAssistantToolUI({
  toolName: "searchItems",
  render: ({ result }) => (
    <ItemCarousel
      {...result}
      onItemClick={(id) => router.push(`/items/${id}`)}
      onItemAction={(itemId, actionId) => {
        if (actionId === "select") {
          selectItem(itemId);
        }
      }}
    />
  ),
});
```

## Props

<TypeTable
  type={{
    id: {
      description: "Unique identifier for this component instance",
      type: "string",
      required: true,
    },
    items: {
      description: "Array of items to display",
      type: "Item[]",
      required: true,
    },
    title: {
      description: "Optional header title",
      type: "string",
    },
    description: {
      description: "Optional header description",
      type: "string",
    },
    className: {
      description: "Additional CSS classes",
      type: "string",
    },
    onItemClick: {
      description: "Handler when an item card is clicked",
      type: "(itemId: string) => void",
    },
    onItemAction: {
      description: "Handler when an item action button is clicked",
      type: "(itemId: string, actionId: string) => void",
    },
  }}
/>

## Item Schema

<TypeTable
  type={{
    id: {
      description: "Unique item identifier",
      type: "string",
      required: true,
    },
    name: {
      description: "Item display name",
      type: "string",
      required: true,
    },
    subtitle: {
      description: "Secondary text (price, description, etc.)",
      type: "string",
    },
    image: {
      description: "Item image URL",
      type: "string (URL)",
    },
    color: {
      description: "Background color (hex) when no image is provided",
      type: "string",
    },
    actions: {
      description: "Action buttons for this item",
      type: "Action[]",
    },
  }}
/>

## Accessibility

- Scroll animations respect `prefers-reduced-motion` and fall back to instant scrolling
- Cards are keyboard-navigable with Enter/Space activation
- Proper ARIA roles and labels for screen reader announcements
- Focus rings visible for keyboard navigation
