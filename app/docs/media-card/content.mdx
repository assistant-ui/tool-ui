import { DocsHeader } from "../_components/docs-header";
import { MediaCard } from "@/components/tool-ui/media-card";

<DocsHeader title="Media Card" mdxPath="app/docs/media-card/content.mdx" />

An information surface for links, images, video, and audio. Optimized for inline previews in chat.

<Tabs items={["Preview", "Code"]}>
  <Tab>
    <div className="not-prose">
      <MediaCard
        surfaceId="media-card-react-docs"
        assetId="react-docs-link"
        kind="link"
        href="https://react.dev"
        title="React Documentation"
        description="The library for web and native user interfaces. Build user interfaces out of individual pieces called components."
        thumb="https://images.unsplash.com/photo-1633356122544-f134324a6cee?auto=format&fit=crop&q=80&w=1200"
        ratio="16:9"
        domain="react.dev"
        maxWidth="420px"
      />
    </div>
  </Tab>
  <Tab>
    ```tsx
    import { MediaCard } from "@/components/tool-ui/media-card";

    export function Example() {
      return (
        <MediaCard
          surfaceId="media-card-react-docs"
          assetId="react-docs-link"
          kind="link"
          href="https://react.dev"
          title="React Documentation"
          description="The library for web and native user interfaces."
          thumb="https://images.unsplash.com/photo-1633356122544-f134324a6cee"
          ratio="16:9"
          domain="react.dev"
          maxWidth="420px"
        />
      );
    }
    ```

  </Tab>
</Tabs>

## When to Use Media Card

- **Good for:** Link previews, media thumbnails, file summaries
- **Not for:** Large galleries, long-form content editing

## Key Features

- **Multiple media types**: Links, images, video, audio, files
- **Smart thumbnails**: Aspect ratios and object-fit control
- **Metadata display**: Domain, source, duration, author
- **Click-through support**: Whole card as clickable area
- **Inline actions**: Buttons for open, save, share

## Source and Install

Copy `components/tool-ui/media-card` into your project. The `tool-ui` directory should sit alongside your shadcn `ui` directory.

### Prerequisites

This component requires the following [shadcn/ui](https://ui.shadcn.com) components:

```bash
pnpm dlx shadcn@latest add badge button card dropdown-menu tooltip
```

### Directory Structure

<Files>
  <Folder name="components" defaultOpen>
    <Folder name="ui">
      <File name="badge.tsx" />
      <File name="button.tsx" />
      <File name="card.tsx" />
      <File name="dropdown-menu.tsx" />
      <File name="tooltip.tsx" />
      <File name="..." />
    </Folder>
    <Folder name="tool-ui" defaultOpen>
      <Folder name="media-card" defaultOpen>
        <File name="media-card.tsx" />
        <File name="schema.ts" />
        <File name="types.ts" />
        <File name="index.tsx" />
        <File name="..." />
      </Folder>
    </Folder>
  </Folder>
</Files>

### Download

- [**Source on GitHub**](https://github.com/assistant-ui/tool-ui/tree/main/components/media-card)
- [**Quick download (ZIP)**](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/media-card)

## Usage

Define a tool that returns Media Card props, then render the card with runtime validation.

```tsx
// Backend tool
import { tool } from "ai";
import { z } from "zod";
import { serializableMediaCardSchema } from "@/components/tool-ui/media-card/schema";

const previewLink = tool({
  description: "Show a preview card for a URL",
  inputSchema: z.object({ url: z.string().url() }),
  outputSchema: serializableMediaCardSchema,
  async execute({ url }) {
    // Fetch real metadata here
    return {
      surfaceId: "link-preview-1",
      assetId: url,
      kind: "link",
      href: url,
      title: "Example site",
      description: "Preview of the requested URL",
      thumb: "https://example.com/image.jpg",
      domain: new URL(url).hostname,
    };
  },
});

// Frontend with assistant-ui
import { makeAssistantToolUI } from "@assistant-ui/react";
import {
  MediaCard,
  parseSerializableMediaCard,
} from "@/components/tool-ui/media-card";

export const PreviewLinkUI = makeAssistantToolUI({
  toolName: "previewLink",
  render: ({ result }) => {
    const card = parseSerializableMediaCard(result);

    return (
      <MediaCard
        {...card}
        maxWidth="420px"
        footerActions={[
          { id: "open", label: "Open" },
          { id: "save", label: "Save" },
        ]}
        onFooterAction={(id) => {
          if (id === "open") window.open(card.href, "_blank");
          // Handle other actions
        }}
      />
    );
  },
});
```

## Props

<TypeTable
  type={{
    surfaceId: { description: "Unique identifier for this surface instance", type: "string", required: true },
    assetId: { description: "Persistent asset identifier (e.g., database ID)", type: "string", required: true },
    kind: {
      description: "Content type",
      type: "'link' | 'image' | 'video' | 'audio'",
      required: true,
    },
    src: { description: "Media source URL", type: "string" },
    href: { description: "Target URL (for link cards)", type: "string" },
    title: { description: "Title text", type: "string" },
    description: { description: "Description", type: "string" },
    alt: { description: "Alt text for images (required for kind='image')", type: "string" },
    thumb: { description: "Thumbnail/poster URL", type: "string" },
    ratio: {
      description: "Aspect ratio",
      type: "'auto' | '1:1' | '4:3' | '16:9' | '9:16'",
      default: "'auto'",
    },
    fit: { description: "Object fit mode", type: "'cover' | 'contain'", default: "'cover'" },
    domain: { description: "Source domain label", type: "string" },
    source: { description: "Source attribution", type: "{ label: string; iconUrl?: string; url?: string }" },
    createdAtISO: { description: "Creation timestamp", type: "string (ISO 8601)" },
    durationMs: { description: "Duration in milliseconds (video/audio)", type: "number" },
    fileSizeBytes: { description: "File size in bytes", type: "number" },
    og: { description: "OpenGraph fallback data", type: "{ title?: string; description?: string; imageUrl?: string }" },
    maxWidth: {
      description: "Max width",
      type: "string (CSS)",
      default: "'100%'",
    },
    footerActions: { description: "Footer action buttons", type: "Action[]" },
    onAction: { description: "Inline action handler", type: "(actionId: string) => void" },
    onFooterAction: { description: "Footer action handler", type: "(actionId: string) => void" },
    onNavigate: { description: "Navigation handler", type: "(href: string, card: MediaCard) => void" },
  }}
/>
