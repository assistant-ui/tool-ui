import { DocsHeader } from "../_components/docs-header";
import { MediaCard } from "@/components/tool-ui/media-card";

<DocsHeader title="Media Card" role="Information" />

An information surface for links, images, video, and audio. Optimized for inline previews in chat.

<Tabs items={["Preview", "Code"]}>
  <Tab>
    <div className="not-prose">
      <MediaCard
        id="link-1"
        kind="link"
        href="https://react.dev"
        title="React Docs"
        description="Learn React with the official documentation."
        thumb="https://images.unsplash.com/photo-1633356122544-f134324a6cee?auto=format&fit=crop&q=80&w=1200"
        domain="react.dev"
        maxWidth="420px"
      />
    </div>
  </Tab>
  <Tab>
    ```tsx
    import { MediaCard } from "@/components/tool-ui/media-card";

    export function Example() {
      return (
        <MediaCard
          id="link-1"
          kind="link"
          href="https://react.dev"
          title="React Docs"
          description="Learn React with the official documentation."
          thumb="https://images.unsplash.com/photo-1633356122544-f134324a6cee?auto=format&fit=crop&q=80&w=1200"
          domain="react.dev"
          maxWidth="420px"
        />
      );
    }
    ```
  </Tab>
</Tabs>

## When to Use Media Card

- **Good for:** Link previews, media thumbnails, file summaries
- **Not for:** Large galleries, long-form content editing

## Key Features

- **Multiple media types**: Links, images, video, audio, files
- **Smart thumbnails**: Aspect ratios and object-fit control
- **Metadata display**: Domain, source, duration, author
- **Click-through support**: Whole card as clickable area
- **Inline actions + CTA row**: Built-in media controls plus footer [Contextual Actions](/docs/contextual-actions)


## Source and Install

Copy `components/media-card` into your project next to your shadcn/ui components:

<Files>
  <Folder name="components" defaultOpen>
    <Folder name="ui">
      <File name="button.tsx" />
      <File name="card.tsx" />
      <File name="..." />
    </Folder>
    <Folder name="media-card" defaultOpen>
      <File name="media-card.tsx" />
      <File name="schema.ts" />
      <File name="types.ts" />
      <File name="index.tsx" />
      <File name="..." />
    </Folder>
  </Folder>
</Files>

### Download

- [**Source on GitHub**](https://github.com/assistant-ui/tool-ui/tree/main/components/media-card)
- [**Quick download (ZIP)**](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/media-card)



## Usage

```tsx
// Backend tool
import { tool } from 'ai';
import { z } from 'zod';
import { serializableMediaCardSchema } from '@tool-ui/media-card';

const previewLink = tool({
  description: 'Show a preview card for a URL',
  inputSchema: z.object({ url: z.string().url() }),
  outputSchema: serializableMediaCardSchema,
  async execute({ url }) {
    // Fetch real metadata here
    return {
      id: 'link-1',
      kind: 'link',
      href: url,
      title: 'Example site',
      description: 'Preview of the requested URL',
      thumb: 'https://example.com/image.jpg',
      meta: { source: new URL(url).hostname },
    };
  },
});

// Frontend with assistant-ui
import { makeAssistantToolUI } from '@assistant-ui/react';
import { MediaCard } from '@tool-ui/media-card';

export const PreviewLinkUI = makeAssistantToolUI({
  toolName: 'previewLink',
  render: ({ result }) => (
    <MediaCard
      {...result}
      maxWidth="420px"
      footerActions={{
        items: [
          { id: 'save', label: 'Save', variant: 'secondary' },
          { id: 'open', label: 'Open', variant: 'default' },
        ],
        align: 'right',
      }}
      onBeforeFooterAction={(id) =>
        id === 'open' ? window.confirm('Open link?') : true
      }
      onFooterAction={(id) => {
        if (id === 'open' && result.href) window.open(result.href, '_blank');
      }}
    />
  ),
});
```

## Contextual footer actions

Use `footerActions` for a footer CTA row powered by the shared Contextual Actions API (array or config form). `card` below is any `SerializableMediaCard` payload.

```tsx
<MediaCard
  {...card}
  footerActions={[
    { id: "bookmark", label: "Save", variant: "secondary" },
    { id: "open", label: "Open", variant: "default", confirmLabel: "Confirm" },
  ]}
  onBeforeFooterAction={(id) => (id === "open" ? window.confirm("Open link?") : true)}
  onFooterAction={(id) => console.log(id)}
/>
```

When `footerActions` come from a tool response, keep them serializable (no icons). Add icons or runtime-only tweaks in your render layer if needed.


## Props

<TypeTable
type={{
id: { description: "Unique identifier", type: "string", required: true },
kind: { description: "Content type", type: "'link' | 'image' | 'video' | 'audio' | 'file'", required: true },
href: { description: "Target URL", type: "string" },
title: { description: "Title text", type: "string", required: true },
description: { description: "Description", type: "string" },
thumb: { description: "Thumbnail URL", type: "string" },
ratio: { description: "Aspect ratio", type: "'16:9' | '4:3' | '1:1' | 'auto'", default: "'16:9'" },
meta: { description: "Key/value metadata", type: "Record<string, string>" },
badge: { description: "Status badge", type: "string" },
maxWidth: { description: "Max width", type: "string (CSS)", default: "'100%'" },
footerActions: { description: "Contextual footer actions (array or { items; align?; layout?; confirmTimeout? })", type: "Action[] | ActionsConfig" },
onBeforeFooterAction: { description: "Preflight for footer actions (return false to cancel)", type: "(id) => boolean | Promise<boolean>" },
onFooterAction: { description: "Footer action handler", type: "(id) => void | Promise<void>" },
onMediaAction: { description: "Built-in media action handler (open, copy link, download, play/pause)", type: "(id, card) => void" },
}}
/>
