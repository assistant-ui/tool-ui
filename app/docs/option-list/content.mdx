import { DocsHeader } from "../_components/docs-header";

<DocsHeader title="Option List" mdxPath="app/docs/option-list/content.mdx" />

A decision surface for single or multi-select choices. Optimized for inline selection prompts in chat.

<OptionListPresetExample preset="export" />

## Receipt State

When `confirmed` is set, the component renders in a read-only receipt state showing only the confirmed selection(s). This is useful for displaying the outcome of a decision in a conversation history.

<OptionListPresetExample preset="receipt" />

The receipt state:

- Shows only the confirmed option(s) with a checkmark
- Hides unselected options and response actions
- Is read-only (no interaction)

## When to Use Option List

- **Good for:** File format selection, preference choices, confirmation prompts
- **Not for:** Long lists (use DataTable), complex forms, free-text input

## Key Features

<FeatureGrid>
  <Feature icon="CircleCheck" title="Single or multi-select">
    Radio-style for one choice, checkbox-style for many
  </Feature>
  <Feature icon="ListChecks" title="Selection constraints">
    Enforce minimum and maximum selection limits
  </Feature>
  <Feature icon="Settings2" title="Configurable actions">
    Customize confirm, cancel, and other footer buttons
  </Feature>
</FeatureGrid>

## Source and Install

Copy `components/tool-ui/option-list` and the `shared` directory into your project. The `shared` folder contains utilities used by all Tool UI components. The `tool-ui` directory should sit alongside your shadcn `ui` directory.

### Prerequisites

This component requires the following [shadcn/ui](https://ui.shadcn.com) components:

```bash
pnpm dlx shadcn@latest add button separator
```

### Directory Structure

<Files>
  <Folder name="components" defaultOpen>
    <Folder name="ui">
      <File name="button.tsx" />
      <File name="separator.tsx" />
      <File name="..." />
    </Folder>
    <Folder name="tool-ui" defaultOpen>
      <Folder name="shared" defaultOpen>
        <File name="action-buttons.tsx" />
        <File name="schema.ts" />
        <File name="index.ts" />
        <File name="..." />
      </Folder>
      <Folder name="option-list" defaultOpen>
        <File name="option-list.tsx" />
        <File name="schema.ts" />
        <File name="index.tsx" />
        <File name="..." />
      </Folder>
    </Folder>
  </Folder>
</Files>

### Download

- [**Shared Dependencies (GitHub)**](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/shared) ([ZIP](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/shared))
- [**Option List (GitHub)**](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/option-list) ([ZIP](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/option-list))

## Usage

```tsx
// Backend tool
import { tool } from "ai";
import { z } from "zod";
import { serializableOptionListSchema } from "@/components/tool-ui/option-list/schema";

const selectFormat = tool({
  description: "Let user select export format(s)",
  inputSchema: z.object({ formats: z.array(z.string()) }),
  outputSchema: serializableOptionListSchema,
  async execute({ formats }) {
    return {
      options: formats.map((f) => ({ id: f, label: f.toUpperCase() })),
      selectionMode: "multi",
      maxSelections: 2,
    };
  },
});

// Frontend with assistant-ui
import { makeAssistantToolUI } from "@assistant-ui/react";
import { OptionList } from "@/components/tool-ui/option-list";

export const SelectFormatUI = makeAssistantToolUI({
  toolName: "selectFormat",
  render: ({ result, addResult }) => {
    // Receipt state: user already confirmed
    if (result.confirmed) {
      return <OptionList {...result} />;
    }
    // Interactive state: awaiting selection
    return (
      <OptionList
        {...result}
        onConfirm={(selection) =>
          addResult({ ...result, confirmed: selection })
        }
      />
    );
  },
});
```

## Props

<TypeTable
  type={{
    options: {
      description: "List of selectable options",
      type: "OptionListOption[]",
      required: true,
    },
    selectionMode: {
      description: "Selection behavior",
      type: "'single' | 'multi'",
      default: "'multi'",
    },
    value: {
      description: "Controlled selection value",
      type: "string | string[] | null",
    },
    defaultValue: {
      description: "Initial selection (uncontrolled)",
      type: "string | string[] | null",
    },
    confirmed: {
      description: "Confirmed selection (renders receipt state)",
      type: "string | string[] | null",
    },
    minSelections: {
      description: "Minimum required selections",
      type: "number",
      default: "1",
    },
    maxSelections: {
      description: "Maximum allowed selections",
      type: "number",
    },
    responseActions: {
      description: "Response action buttons",
      type: "Action[] | ActionsConfig",
    },
    onChange: {
      description: "Selection change handler",
      type: "(value) => void",
    },
    onConfirm: {
      description: "Confirm button handler",
      type: "(value) => void | Promise<void>",
    },
    onCancel: { description: "Cancel/clear handler", type: "() => void" },
  }}
/>

## Option Schema

<TypeTable
  type={{
    id: {
      description: "Unique option identifier",
      type: "string",
      required: true,
    },
    label: { description: "Display text", type: "string", required: true },
    description: { description: "Secondary text", type: "string" },
    icon: { description: "Optional icon element", type: "ReactNode" },
    disabled: { description: "Disable this option", type: "boolean" },
  }}
/>
