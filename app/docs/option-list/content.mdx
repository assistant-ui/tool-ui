import { DocsHeader } from "../_components/docs-header";

<DocsHeader title="Option List" mdxPath="app/docs/option-list/content.mdx" />

A decision surface for single or multi-select choices. Optimized for inline selection prompts in chat.

<OptionListPresetExample preset="export" />

## Receipt State

When `confirmed` is set, the component renders in a read-only receipt state showing only the confirmed selection(s). This is useful for displaying the outcome of a decision in a conversation history.

<OptionListPresetExample preset="receipt" />

The receipt state:

- Shows only the confirmed option(s) with a checkmark
- Hides unselected options and response actions
- Is read-only (no interaction)

## When to Use Option List

- **Good for:** File format selection, preference choices, confirmation prompts
- **Not for:** Long lists (use DataTable), complex forms, free-text input

## Key Features

<FeatureGrid>
  <Feature icon="CircleCheck" title="Single or multi-select">
    Radio-style for one choice, checkbox-style for many
  </Feature>
  <Feature icon="ListChecks" title="Selection constraints">
    Enforce minimum and maximum selection limits
  </Feature>
  <Feature icon="Settings2" title="Configurable actions">
    Customize confirm, cancel, and other footer buttons
  </Feature>
</FeatureGrid>

## Source and Install

Copy `components/tool-ui/option-list` and the `shared` directory into your project. The `shared` folder contains utilities used by all Tool UI components. The `tool-ui` directory should sit alongside your shadcn `ui` directory.

### Prerequisites

This component requires the following [shadcn/ui](https://ui.shadcn.com) components:

```bash
pnpm dlx shadcn@latest add button separator
```

### Directory Structure

<Files>
  <Folder name="components" defaultOpen>
    <Folder name="ui">
      <File name="button.tsx" />
      <File name="separator.tsx" />
      <File name="..." />
    </Folder>
    <Folder name="tool-ui" defaultOpen>
      <Folder name="shared" defaultOpen>
        <File name="action-buttons.tsx" />
        <File name="schema.ts" />
        <File name="index.ts" />
        <File name="..." />
      </Folder>
      <Folder name="option-list" defaultOpen>
        <File name="option-list.tsx" />
        <File name="schema.ts" />
        <File name="index.tsx" />
        <File name="..." />
      </Folder>
    </Folder>
  </Folder>
</Files>

### Download

- [**Shared Dependencies (GitHub)**](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/shared) ([ZIP](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/shared))
- [**Option List (GitHub)**](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/option-list) ([ZIP](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/option-list))

## Usage

```tsx
"use client";

// Frontend tool (recommended for decision surfaces like Option List):
// - The model calls the tool with SerializableOptionList props as the args
// - Your UI calls addResult(selection) when the user confirms
import { makeAssistantTool } from "@assistant-ui/react";
import {
  OptionList,
  OptionListErrorBoundary,
  parseSerializableOptionList,
  SerializableOptionListSchema,
  type SerializableOptionList,
  type OptionListSelection,
} from "@/components/tool-ui/option-list";

export const SelectFormatTool = makeAssistantTool<
  SerializableOptionList,
  OptionListSelection
>({
  toolName: "selectFormat",
  description: "Let the user choose an output format.",
  parameters: SerializableOptionListSchema,
  render: ({ args, result, addResult, toolCallId }) => {
    // Tool args can be incomplete while streaming; wait until required fields exist.
    if (!Array.isArray((args as any)?.options)) return null;

    // `id` is required and should be stable/meaningful.
    const optionList = parseSerializableOptionList({
      ...args,
      id: (args as any)?.id ?? `format-selection-${toolCallId}`,
    });

    return (
      <OptionListErrorBoundary>
        {result !== undefined ? (
          <OptionList {...optionList} value={undefined} confirmed={result} />
        ) : (
          <OptionList
            {...optionList}
            // Avoid controlled selection in LLM-driven payloads.
            value={undefined}
            onConfirm={(selection) => addResult(selection)}
          />
        )}
      </OptionListErrorBoundary>
    );
  },
});
```

Mount `<SelectFormatTool />` under `<AssistantRuntimeProvider>` to register the tool and its UI. For auto-continue after `addResult(...)`, see the **Frontend tools** section in [Quick Start](/docs/quick-start).

## Props

<TypeTable
  type={{
    options: {
      description: "List of selectable options",
      type: "OptionListOption[]",
      required: true,
    },
    selectionMode: {
      description: "Selection behavior",
      type: "'single' | 'multi'",
      default: "'multi'",
    },
    value: {
      description:
        "Controlled selection value (runtime only; avoid in tool/LLM payloadsâ€”prefer defaultValue/confirmed)",
      type: "string | string[] | null",
    },
    defaultValue: {
      description: "Initial selection (uncontrolled)",
      type: "string | string[] | null",
    },
    confirmed: {
      description: "Confirmed selection (renders receipt state)",
      type: "string | string[] | null",
    },
    minSelections: {
      description: "Minimum required selections",
      type: "number",
      default: "1",
    },
    maxSelections: {
      description: "Maximum allowed selections",
      type: "number",
    },
    responseActions: {
      description: "Response action buttons",
      type: "Action[] | ActionsConfig",
    },
    onChange: {
      description: "Selection change handler",
      type: "(value) => void",
    },
    onConfirm: {
      description: "Confirm button handler",
      type: "(value) => void | Promise<void>",
    },
    onCancel: { description: "Cancel/clear handler", type: "() => void" },
  }}
/>

## Option Schema

<TypeTable
  type={{
    id: {
      description: "Unique option identifier",
      type: "string",
      required: true,
    },
    label: { description: "Display text", type: "string", required: true },
    description: { description: "Secondary text", type: "string" },
    icon: { description: "Optional icon element", type: "ReactNode" },
    disabled: { description: "Disable this option", type: "boolean" },
  }}
/>
