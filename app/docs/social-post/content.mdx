import { DocsHeader } from "../_components/docs-header";
import { XPost } from "@/components/tool-ui/x-post";
import { InstagramPost } from "@/components/tool-ui/instagram-post";
import { LinkedInPost } from "@/components/tool-ui/linkedin-post";

<DocsHeader
  title="Social Posts"
  description="Platform-specific social media cards for X, LinkedIn, and Instagram."
  mdxPath="app/docs/social-post/content.mdx"
/>

<Tabs items={["X Post", "Instagram Post", "LinkedIn Post"]}>
  <Tab>
    <div className="not-prose w-full max-w-[540px]">
      <XPost
        post={{
          id: "post-1",
          author: {
            name: "Athia Zohra",
            handle: "athiazohra",
            avatarUrl:
              "https://images.unsplash.com/photo-1740510294141-33ebf26e0809?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
            verified: true,
          },
          text: "Thinking about how to make Tool UIs feel more like collaboration than chrome.",
          stats: { likes: 12 },
          createdAt: "2025-01-05T12:00:00.000Z",
        }}
        responseActions={[{ id: "open", label: "Open in app" }]}
      />
    </div>
  </Tab>
  <Tab>
    <div className="not-prose w-full max-w-[540px]">
      <InstagramPost
        post={{
          id: "post-2",
          author: {
            name: "Athia Zohra",
            handle: "athiazohra",
            avatarUrl:
              "https://images.unsplash.com/photo-1740510294141-33ebf26e0809?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
            verified: true,
          },
          text: "Golden hour vibes",
          media: [
            {
              type: "image",
              url: "https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=800&h=800&fit=crop",
              alt: "City skyline",
            },
          ],
          stats: { likes: 842 },
          createdAt: "2025-01-05T18:00:00.000Z",
        }}
      />
    </div>
  </Tab>
  <Tab>
    <div className="not-prose w-full max-w-[540px]">
      <LinkedInPost
        post={{
          id: "post-3",
          author: {
            name: "Athia Zohra",
            avatarUrl:
              "https://images.unsplash.com/photo-1740510294141-33ebf26e0809?q=80&w=987&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
            headline: "Engineering Lead | Building the future",
          },
          text: "Excited to share that our team shipped a major update today. Six months of hard work paid off!",
          stats: { likes: 234 },
          createdAt: "2025-01-05T09:00:00.000Z",
        }}
      />
    </div>
  </Tab>
</Tabs>

## Components

This is a collection of three separate, platform-specific components:

- **XPost**: For Twitter/X posts and quoted tweets
  - Verified badges
  - Quoted tweets
  - Media attachments (images/video)
  - Link previews
- **InstagramPost**: For Instagram posts and image carousels
  - Multi-image carousels
  - Verified badges
  - Image/video media
- **LinkedInPost**: For LinkedIn posts and professional content
  - Link previews
  - Media attachments
  - Professional header layout

Each component is independent and can be imported separately. This allows tree-shaking when you only need one platform.

## Key Features

<FeatureGrid>
  <Feature icon="Paintbrush" title="Platform-native styling">
    Each component mirrors its platform's visual language
  </Feature>
  <Feature icon="MousePointerClick" title="Response actions">
    Add custom actions below any post
  </Feature>
  <Feature icon="Layers" title="Component family">
    Three independent components (XPost, InstagramPost, LinkedInPost) with
    shared patterns
  </Feature>
  <Feature icon="Link" title="Deep linking">
    Profile and post links open directly to original content on each platform
  </Feature>
</FeatureGrid>

## Source and Install

Copy the component(s) you need from [`components/tool-ui`](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui) into your project. The [`shared`](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/shared) folder is required for all social post components. The `tool-ui` directory should sit alongside your shadcn `ui` directory.

### Prerequisites

These components require the following [shadcn/ui](https://ui.shadcn.com) components:

```bash
pnpm dlx shadcn@latest add button tooltip
```

### Directory Structure

<Files>
  <Folder name="components" defaultOpen>
    <Folder name="ui">
      <File name="button.tsx" />
      <File name="tooltip.tsx" />
      <File name="..." />
    </Folder>
    <Folder name="tool-ui" defaultOpen>
      <Folder name="shared" defaultOpen>
        <File name="action-buttons.tsx" />
        <File name="schema.ts" />
        <File name="use-action-buttons.ts" />
        <File name="_adapter.tsx" />
        <File name="index.ts" />
      </Folder>
      <Folder name="x-post" defaultOpen>
        <File name="_adapter.tsx" />
        <File name="x-post.tsx" />
        <File name="schema.ts" />
        <File name="index.ts" />
      </Folder>
      <Folder name="instagram-post">
        <File name="_adapter.tsx" />
        <File name="instagram-post.tsx" />
        <File name="schema.ts" />
        <File name="index.ts" />
      </Folder>
      <Folder name="linkedin-post">
        <File name="_adapter.tsx" />
        <File name="linkedin-post.tsx" />
        <File name="schema.ts" />
        <File name="index.ts" />
      </Folder>
    </Folder>
  </Folder>
</Files>

### Download

- [**Shared Dependencies (GitHub)**](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/shared) ([ZIP](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/shared))
- [**X Post (GitHub)**](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/x-post) ([ZIP](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/x-post))
- [**Instagram Post (GitHub)**](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/instagram-post) ([ZIP](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/instagram-post))
- [**LinkedIn Post (GitHub)**](https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/linkedin-post) ([ZIP](https://download-directory.github.io/?url=https://github.com/assistant-ui/tool-ui/tree/main/components/tool-ui/linkedin-post))

## Usage

```tsx
import { XPost } from "@/components/tool-ui/x-post";
import { InstagramPost } from "@/components/tool-ui/instagram-post";
import { LinkedInPost } from "@/components/tool-ui/linkedin-post";

// X Post
<XPost
  post={{
    id: "tweet-123",
    author: { name: "Jane", handle: "jane", avatarUrl: "...", verified: true },
    text: "Hello world!",
    stats: { likes: 42 },
    createdAt: "2025-01-01T12:00:00Z",
  }}
  onAction={(action, post) => console.log(action, post.id)}
  responseActions={[{ id: "report", label: "Report", variant: "destructive" }]}
  onResponseAction={(id) => console.log(id)}
/>

// Instagram Post
<InstagramPost
  post={{
    id: "ig-123",
    author: { name: "Jane", handle: "jane", avatarUrl: "..." },
    text: "Beach day!",
    media: [{ type: "image", url: "...", alt: "Beach photo" }],
    stats: { likes: 1234 },
  }}
/>

// LinkedIn Post
<LinkedInPost
  post={{
    id: "li-123",
    author: { name: "Jane Smith", avatarUrl: "...", headline: "CEO at Acme" },
    text: "Excited to announce...",
    linkPreview: { url: "...", title: "News", domain: "acme.com" },
    stats: { likes: 89 },
  }}
/>
```

### With assistant-ui (tool output)

Define a tool that returns a post payload, then render the component with runtime validation.

```tsx
// Backend tool
import { tool, jsonSchema } from "ai";

const showXPost = tool({
  description: "Show an X post",
  inputSchema: jsonSchema<{}>({
    type: "object",
    properties: {},
    additionalProperties: false,
  }),
  async execute() {
    return {
      id: "post-x-1",
      author: {
        name: "Tool UI",
        handle: "assistant_ui",
        avatarUrl: "https://api.dicebear.com/9.x/shapes/svg?seed=tool-ui",
        verified: true,
      },
      text: "DX test: rendering an XPost tool UI inline in chat.",
      stats: { likes: 12 },
      createdAt: new Date().toISOString(),
    };
  },
});

// Frontend with assistant-ui
import { makeAssistantToolUI } from "@assistant-ui/react";
import {
  XPost,
  XPostErrorBoundary,
  parseSerializableXPost,
} from "@/components/tool-ui/x-post";

function ParsedXPost({ result }: { result: unknown }) {
  const post = parseSerializableXPost(result);
  return <XPost post={post} />;
}

export const ShowXPostUI = makeAssistantToolUI({
  toolName: "showXPost",
  render: ({ result }) => {
    // Tool outputs stream in; `result` will be `undefined` until the tool resolves.
    if (result === undefined) {
      return (
        <div className="bg-card/60 text-muted-foreground w-full max-w-[540px] rounded-2xl border px-5 py-4 text-sm shadow-xs">
          Loading postâ€¦
        </div>
      );
    }

    return (
      <XPostErrorBoundary>
        <ParsedXPost result={result} />
      </XPostErrorBoundary>
    );
  },
});
```

The same pattern works for `InstagramPost` and `LinkedInPost` by swapping the component and parser (`parseSerializableInstagramPost` / `parseSerializableLinkedInPost`).

## Props

All three components share the same prop pattern:

<TypeTable
  type={{
    post: {
      description: "Platform-specific post data",
      type: "XPostData | InstagramPostData | LinkedInPostData",
      required: true,
    },
    className: { description: "Additional CSS classes", type: "string" },
    onAction: {
      description: "Called when like/share clicked",
      type: "(action: string, post) => void",
    },
    responseActions: {
      description: "Custom actions below the post",
      type: "Action[]",
    },
    onResponseAction: {
      description: "Called when response action clicked",
      type: "(actionId: string) => void",
    },
  }}
/>

### XPostData

<TypeTable
  type={{
    id: { description: "Unique identifier", type: "string", required: true },
    author: {
      description: "Author info",
      type: "{ name, handle, avatarUrl, verified? }",
      required: true,
    },
    text: { description: "Post content", type: "string" },
    media: {
      description: "Attached media",
      type: "{ type, url, alt, aspectRatio? }[]",
    },
    linkPreview: {
      description: "Link card",
      type: "{ url, title?, description?, imageUrl?, domain? }",
    },
    quotedPost: { description: "Quoted tweet", type: "XPostData" },
    stats: { description: "Engagement", type: "{ likes? }" },
    createdAt: { description: "ISO timestamp", type: "string" },
  }}
/>

### InstagramPostData

<TypeTable
  type={{
    id: { description: "Unique identifier", type: "string", required: true },
    author: {
      description: "Author info",
      type: "{ name, handle, avatarUrl, verified? }",
      required: true,
    },
    text: { description: "Caption", type: "string" },
    media: { description: "Images/videos", type: "{ type, url, alt }[]" },
    stats: { description: "Engagement", type: "{ likes? }" },
    createdAt: { description: "ISO timestamp", type: "string" },
  }}
/>

### LinkedInPostData

<TypeTable
  type={{
    id: { description: "Unique identifier", type: "string", required: true },
    author: {
      description: "Author info",
      type: "{ name, avatarUrl, headline? }",
      required: true,
    },
    text: { description: "Post content", type: "string" },
    media: { description: "Attached media", type: "{ type, url, alt }[]" },
    linkPreview: {
      description: "Link card",
      type: "{ url, title?, description?, imageUrl?, domain? }",
    },
    stats: { description: "Engagement", type: "{ likes? }" },
    createdAt: { description: "ISO timestamp", type: "string" },
  }}
/>

## Accessibility

- Uses semantic HTML with proper heading hierarchy
- Interactive elements (like, share) are keyboard-accessible
- Avatar images include alt text; timestamps use `<time>` elements
